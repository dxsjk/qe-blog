import{a as i,r as q,f as x,d as e,w as l,F as g,b as t,o as b,e as u,t as B,u as D,g as F,h as N,E as L}from"./index-iQUX7Elc.js";import{I as M}from"./calculate-DTG4pT3Q.js";const A={__name:"Integral",setup(P){const s=i(["x"]),m=i(!0),a=q({params:"x",realm:"",expression:""}),r=i("不定积分"),c=i(""),w=o=>{console.log(o),o==="不定积分"?(a.params="x",s.value=["x"],r.value="不定积分",m.value=!0):o==="定积分"?(a.params="x",s.value=["x"],r.value="定积分",m.value=!1):o==="二重积分"?(a.params="x,y",s.value=["x","y"],r.value="二重积分",m.value=!1):o==="三重积分"&&(a.params="x,y,z",s.value=["x","y","z"],r.value="三重积分",m.value=!1)},y=o=>{},V=async()=>{let o=null;if(a.params=s,r.value==="不定积分"){if(a.expression===""){L({message:"请输入表达式",duration:500});return}o=await M(a)}else if(a.realm===""){c.value="请输入范围";return}c.value="$$"+o.data[1]+"="+o.data[0]+"$$"},C=[{value:"x",label:"x"},{value:"y",label:"y"},{value:"z",label:"z"}],h={expression:[{required:!0,message:"请输入表达式",trigger:"blur"}],realm:[{required:!0,message:"请输入范围",trigger:"blur"}]};return(o,d)=>{const k=t("el-icon"),f=t("el-button"),_=t("el-dropdown-item"),z=t("el-dropdown-menu"),$=t("el-dropdown"),p=t("el-form-item"),E=t("el-option"),I=t("el-select"),v=t("el-input"),S=t("el-form"),U=t("v-md-preview");return b(),x(g,null,[e(S,{model:a,rules:h,"label-width":"120px"},{default:l(()=>[e(p,null,{default:l(()=>[e($,{onCommand:w},{dropdown:l(()=>[e(z,null,{default:l(()=>[e(_,{command:"不定积分"},{default:l(()=>[u("不定积分")]),_:1}),e(_,{command:"定积分"},{default:l(()=>[u("定积分")]),_:1}),e(_,{command:"二重积分"},{default:l(()=>[u("二重积分")]),_:1}),e(_,{command:"三重积分"},{default:l(()=>[u("三重积分")]),_:1})]),_:1})]),default:l(()=>[e(f,{type:"primary"},{default:l(()=>[u(B(r.value)+" ",1),e(k,{class:"el-icon--right"},{default:l(()=>[e(D(F))]),_:1})]),_:1})]),_:1})]),_:1}),e(p,{label:"参数"},{default:l(()=>[e(I,{modelValue:s.value,"onUpdate:modelValue":d[0]||(d[0]=n=>s.value=n),multiple:"","collapse-tags":"","collapse-tags-tooltip":"","max-collapse-tags":3,placeholder:"Select",style:{width:"240px"},onChange:y},{default:l(()=>[(b(),x(g,null,N(C,n=>e(E,{key:n.value,label:n.label,value:n.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),e(p,{label:"范围",prop:"realm"},{default:l(()=>[e(v,{modelValue:a.realm,"onUpdate:modelValue":d[1]||(d[1]=n=>a.realm=n),type:"text",placeholder:"对应参数的范围(2,3),(1,2)",disabled:m.value},null,8,["modelValue","disabled"])]),_:1}),e(p,{label:"表达式",prop:"expression"},{default:l(()=>[e(v,{modelValue:a.expression,"onUpdate:modelValue":d[2]||(d[2]=n=>a.expression=n),type:"textarea"},null,8,["modelValue"])]),_:1}),e(p,null,{default:l(()=>[e(f,{type:"success",onClick:V},{default:l(()=>[u("确定")]),_:1}),e(f,null,{default:l(()=>[u("取消")]),_:1})]),_:1})]),_:1},8,["model"]),e(U,{text:c.value},null,8,["text"])],64)}}};export{A as default};
